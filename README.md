# Partisan Asymmetries in Exposure to Misinformation

Reproducibility code for "Partisan Asymmetries in Exposure to Misinformation" Ashwin Rao, Fred Morstatter and Kristina Lerman.

## Structure
  .
  ├── README.md
  └── data
  │   ├── MBFC
  │   ├── Coronavirus-Tweets
  └── src

* `data` - data folder with subfolders, `MBFC` containing political and factual valence for Pay-Level Domains, `Coronavirus-Tweets` to place hydrated tweets. Intermediate data files and results generated by scripts in `src` also get saved here.
* `src` - folder which contains scripts to be executed.

## Instructions to replicate results

1. Clone this repository in your local directory.
2. Collect tweet-ids from https://github.com/echen102/COVID-19-TweetIDs for the period of interest. The period used in the study is from January 21, 2020 to July 31, 2020.
3. Apply for a Twitter developer license if you don't have one.
4. Hydrate tweet ids using any hydration API. Popular ones include Hydrator (https://github.com/DocNow/hydrator) and twarc (https://github.com/DocNow/twarc).
5. Convert the hydrated data into Pandas dataframe for each day and save them as pickle files. Extensive documentation on how to save dataframe as a pickle file is available at https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_pickle.html. Similarly, one can load a pickle file using https://pandas.pydata.org/docs/reference/api/pandas.read_pickle.html.
6. Place these pickle files in the `data/Coronavirus-Tweets` folder. Consider only English language tweets that are geo-localized to the United States. Refer to https://github.com/julie-jiang/twitter-locations-us-state for using a fuzzy matching approach. Twitter objects come with a `lang` field to filter by language.
7. Go to the `src` folder and execute Python scripts in the following order:
      * `python3 isolate_exp_gen.py` - to collect URLs generated by and exposed to users. Generates a file `data/final_all_exposure.pkl`.
      * `python3 score_gen_exp.py` - uses the file `final_all_exposure.pkl` and files under `data/MBFC` to quantify user political and factual leaning and exposures. Generates files `data/misinf_res_decoupled.pkl` and `data/political_res_decoupled.pkl` which contains factual and political quantifications respectively.
      * `Analysis.ipynb` - iPython Notebook that uses quantifications made into generating results discussed in paper.

## Dependencies
* `tldextract` - install by running `pip install tldextract`. More details can be found at https://github.com/john-kurkowski/tldextract.
